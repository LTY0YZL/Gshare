<!DOCTYPE html>
{% load static %}
<html lang="en">
    {% include 'navbar.html' %}
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Payments</title>
    </head>

    <body style="margin: 0; overflow-x: hidden;">
        <div name="HoldsEverything" style="min-width: 100vw; display: flex; flex-direction: row; width: 100%; height: calc(100vh - 5rem);">

            <!-- Left column - Payments -->
            <div name="paymentsAll" style="font-weight: bolder; flex: 1; padding: 1rem; display: flex; flex-direction: column; height: 100%;">
                <div name="PaymentsByOthers" style="margin-bottom: 1.5rem; border: 1px solid lightgray; padding: 1rem; flex-grow: 1; overflow-y: auto;">
                    <div style="display: flex; justify-content: space-between; align-items: center; border-bottom: 1px solid darkblue; padding: 6px;">
                        <p>Payment Status</p>
                    </div>
                    {% for member in members_payments %}
                    <div style="display: flex; align-items: center; padding: 1rem;" name="memberPaymentInfo">
                        <div style="flex-shrink: 0;">
                            <span style="font-size: 2.25rem; line-height: 2.5rem;">{{ member.payment_status }}</span>
                        </div>
                        <div style="margin-left: 2rem;">
                            <p style="font-weight: 500; font-size: 1.125rem; line-height: 1.75rem;">{{ member.user_name }}</p>
                            <p style="color: rgb(75 85 99);">Delivery Preference: {{ member.delivery_pref }}</p>
                        </div>
                    </div>
                    {% endfor %}
                </div>
                <div style="width: 100%; display: flex; justify-content: center; align-items: center; flex-shrink: 0;">
            
                    <form action="{% url 'paymentscheckout' %}" method="post">

                        {% csrf_token %}
                        <button style="border: 1px solid darkblue; padding: 8px; max-width: 15vw; align-self: center; background-color: #3A97D4; color: aliceblue;">Confirm Payments</button>
                    </form>
                </div>
            </div>
            
            <!-- Right column - Carts -->
            <div name="rightSide" style="flex: 1; display: flex; flex-direction: column; justify-content: space-between; height: 100%; margin-right: 1rem;">
                <div name="Carts" style="font-weight: bolder; margin-top: 1rem; flex-grow: 1; border: 1px solid lightgray; padding: 1rem; overflow-y: auto; height: 100%;">
                    <div style="display: flex; justify-content: space-between; align-items: center; border-bottom: 1px solid darkblue; padding: 6px;">
                        <p>Carts' Information</p>
                    </div>

                    {% for cart in carts_in_group %}
                    <div name="eachCart" style="display: flex; flex-direction: row; justify-content: space-between; margin: 3px;">
                        <div name="userInfo" style="display: flex; flex-direction: row; align-items: center; margin: 3px;">
                            <img name="userIcon" src="{% static 'media/user.png' %}" style="width: 24px; height: 24px; border-radius: 50%; object-fit: cover;">
                            <p style="margin-left: 1rem;">{{ cart.user_name }}</p>
                        </div>
                        <p>${{ cart.total }}</p>
                    </div>
                    {% endfor %}
                </div>
            </div>
            
        </div>
        
    </body>

</html>
</html>
